From 749542bdba7555cc702d010ed7d4af56e20ba44c Mon Sep 17 00:00:00 2001
From: Etaash Mathamsetty
 <45927311+Etaash-mathamsetty@users.noreply.github.com>
Date: Mon, 20 Oct 2025 09:56:28 -0500
Subject: [PATCH 372/379] Revert "ntdll: HACK: Limit address space for Reverse:
 1999."

This reverts commit c1f2b81a98ed4116e7ab7bbc9fe8aa26c70549c9.
---
 dlls/ntdll/unix/virtual.c | 21 ---------------------
 1 file changed, 21 deletions(-)

diff --git a/dlls/ntdll/unix/virtual.c b/dlls/ntdll/unix/virtual.c
index bd30503b323..5cc421fff01 100644
--- a/dlls/ntdll/unix/virtual.c
+++ b/dlls/ntdll/unix/virtual.c
@@ -2490,25 +2490,6 @@ static void clear_native_views(void)
     }
 }
 
-static void fixup_effective_user_space_limit( const void **effective_user_space_limit )
-{
-#ifdef _WIN64
-    static int cached = -1;
-
-    if (cached == -1)
-    {
-        const char *sgi = getenv( "SteamGameId" );
-        cached = sgi &&
-            (
-                !strcmp( sgi, "3092660" )
-                || !strcmp( sgi, "3681810" )
-            );
-    }
-    if (cached)
-        *effective_user_space_limit = min( *effective_user_space_limit, (void *)0x700000000000 );
-#endif
-}
-
 /***********************************************************************
  *           map_view
  *
@@ -2525,8 +2506,6 @@ static NTSTATUS map_view( struct file_view **view_ret, void *base, size_t size,
     const void *effective_user_space_limit = !is_win64 && wine_allocs_2g_limit ?
         (void *)0x7fff0000 : min( user_space_limit, host_addr_space_limit);
 
-    fixup_effective_user_space_limit( &effective_user_space_limit );
-
     if (alloc_type & MEM_REPLACE_PLACEHOLDER)
     {
         struct file_view *view;
-- 
2.51.0

